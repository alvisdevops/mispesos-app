<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2">
  <diagram name="Arquitectura General" id="arquitectura-general">
    <mxGraphModel dx="1160" dy="577" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="&lt;span style=&quot;font-weight: normal;&quot;&gt;MisPesos - Arquitectura General del Sistema&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#2c3e50;" parent="1" vertex="1">
          <mxGeometry x="284" y="20" width="600" height="40" as="geometry" />
        </mxCell>
        <mxCell id="internet" value="INTERNET" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="80" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="user" value="ðŸ‘¤&#xa;Usuario&#xa;TelÃ©fono mÃ³vil" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;fontStyle=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="17" y="250" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="telegram-bot" value="ðŸ“± Telegram Bot&#xa;(Interface de Captura)&#xa;&#xa;â€¢ Input Natural&#xa;â€¢ OCR Photos&#xa;â€¢ Commands&#xa;â€¢ Confirmations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0088cc;strokeColor=#ffffff;fontSize=11;fontStyle=1;fontColor=#ffffff;align=center;" parent="1" vertex="1">
          <mxGeometry x="212" y="230" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="home-server-container" value="ðŸ–¥ï¸ HOME SERVER (alvis-server)&#xa;192.168.1.20" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2c3e50;strokeColor=#ffffff;fontSize=14;fontStyle=1;fontColor=#ffffff;align=center;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="429" y="200" width="260" height="310" as="geometry" />
        </mxCell>
        <mxCell id="fastapi" value="ðŸš€ FastAPI Server&#xa;Port 8000&#xa;REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="449" y="248" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="bot-core" value="ðŸ¤– Telegram Bot Core&lt;br&gt;Message Processing&lt;br&gt;Natural Language Parser&lt;br&gt;Redis Queue Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f39c12;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="449" y="308" width="210" height="52" as="geometry" />
        </mxCell>
        <mxCell id="ocr-engine" value="ðŸ“¸ OCR Engine&#xa;Tesseract OCR&#xa;Image Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9b59b6;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="449" y="373" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="database" value="ðŸ—„ï¸ Postgres Database&lt;br&gt;Local Storage&lt;br&gt;Transactions + Receipts" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1c40f;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#2c3e50;" parent="1" vertex="1">
          <mxGeometry x="449" y="435" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="web-app" value="ðŸ’» Web Application&#xa;(Dashboard)&#xa;&#xa;â€¢ React Frontend&#xa;â€¢ Tailwind CSS&#xa;â€¢ Financial Analytics&#xa;â€¢ Export Tools" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#27ae60;strokeColor=#ffffff;fontSize=11;fontStyle=1;fontColor=#ffffff;align=center;" parent="1" vertex="1">
          <mxGeometry x="850" y="220" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#27ae60;endArrow=classic;startArrow=classic;" parent="1" source="user" target="telegram-bot" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn1-label" value="Mensajes/Fotos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#27ae60;" parent="1" vertex="1">
          <mxGeometry x="127" y="260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#0088cc;endArrow=classic;startArrow=classic;" parent="1" source="telegram-bot" target="home-server-container" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn2-label" value="Webhook API" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#0088cc;" parent="1" vertex="1">
          <mxGeometry x="351" y="260" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#f39c12;endArrow=classic;startArrow=classic;" parent="1" source="home-server-container" target="web-app" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn3-label" value="REST API" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontColor=#f39c12;" parent="1" vertex="1">
          <mxGeometry x="742" y="254" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="internet-conn1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7f8c8d;endArrow=classic;dashed=1;" parent="1" source="internet" target="telegram-bot" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="internet-conn2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7f8c8d;endArrow=classic;dashed=1;exitX=0.55;exitY=0.95;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="internet" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="549" y="160" as="sourcePoint" />
            <mxPoint x="560" y="200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="internet-conn3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7f8c8d;endArrow=classic;dashed=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="internet" target="web-app" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tech-backend" value="ðŸ Backend&#xa;&#xa;Python 3.11&#xa;FastAPI&#xa;Telegram Bot&#xa;Tesseract OCR&#xa;SQLite" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34495e;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;align=center;" parent="1" vertex="1">
          <mxGeometry x="200" y="550" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="tech-frontend" value="âš›ï¸ Frontend&#xa;&#xa;React.js&#xa;TypeScript&#xa;Tailwind CSS&#xa;Recharts&#xa;Vite" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34495e;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;align=center;" parent="1" vertex="1">
          <mxGeometry x="350" y="550" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="tech-data" value="ðŸ—„ï¸ Data &amp;amp; Ops&lt;br&gt;&lt;br&gt;Postgres&lt;div&gt;Docker&lt;br&gt;systemd&lt;br&gt;Ubuntu Server&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#34495e;strokeColor=#ffffff;fontSize=10;fontStyle=1;fontColor=#ffffff;align=center;" parent="1" vertex="1">
          <mxGeometry x="500" y="550" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="flow1" value="1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e74c3c;strokeColor=#ffffff;fontSize=12;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="155" y="280" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow2" value="2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e74c3c;strokeColor=#ffffff;fontSize=12;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="380" y="280" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="flow3" value="3" style="ellipse;whiteSpace=wrap;html=1;fillColor=#e74c3c;strokeColor=#ffffff;fontSize=12;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="760" y="274" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="note1" value="ðŸ’¡ NOTAS:&lt;br&gt;â€¢ Sistema 100% local (PC casa)&lt;br&gt;â€¢ Datos nunca salen del control personal&lt;br&gt;â€¢ Backup automÃ¡tico configurado" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;fontStyle=1;fontColor=#2c3e50;align=left;" parent="1" vertex="1">
          <mxGeometry x="30" y="440" width="220" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
